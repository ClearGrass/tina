1. misc_upgrade ?????§³????flash?????????1œý????????misc??extend?????y??????OTA??????

2. OTA??????????????SDK???????
   ?????????????
   source scripts/setenv.sh
   
   ????????????????????????????
   make_ota_image (???¡ã·Ú??????????????????¡ê????????OTA?????)
   make_ota_image --force (???¡À????¡ã·Ú?????????OTA?????)
   
3. OTA????????
    \*0*/ $ ll bin/sunxi/ota/ 
    ?????? 20856
    drwxrwxr-x 5 heweihong heweihong     4096  3?? 23 15:48 ./
    drwxr-xr-x 5 heweihong heweihong     4096  3?? 23 15:48 ../
    -rw-rw-r-- 1 heweihong heweihong   143172  3?? 23 15:47 .config.old
    drwxrwxr-x 2 heweihong heweihong     4096  3?? 23 15:48 ramdisk_sys/
    -rw-rw-r-- 1 heweihong heweihong  5731339  3?? 23 15:48 ramdisk_sys.tar.gz
    drwxrwxr-x 2 heweihong heweihong     4096  3?? 23 15:47 target_sys/
    -rw-rw-r-- 1 heweihong heweihong 10335244  3?? 23 15:48 target_sys.tar.gz
    drwxrwxr-x 2 heweihong heweihong     4096  3?? 23 15:47 usr_sys/
    -rw-rw-r-- 1 heweihong heweihong  5116895  3?? 23 15:48 usr_sys.tar.gz
    
    ????tar??????????OTA?????
    ramdisk_sys.tar.gz??ramdisk???????????????????????????????????
    target_sys.tar.gz?? ???????????????????????????????????????rootfs??????extend???????????????????usr_sys.tar.gz?????
    usr_sys.tar.gz??    ??¡Â??????????????extend????
    
4. §³??OTA????
    aw_upgrade_process.sh --force ????????????????????????rootfs??????extend?????ramdisk_sys.tar.gz target_sys.tar.gz??
    aw_upgrade_process.sh --post  ??¡Â?????????????extend?????????usr_sys.tar.gz?? 
    
5. ?????????
    aw_upgrade_vendor.sh
    
    ????????????????????
    check_network_vendor(){
        return 0 ???????????
        return 1 ??????????
    }
    
    ??????????$1?ramdisk_sys.tar.gz???????????? $2?/tmp
    download_image_vendor(){
        # $1 image name  $2 DIR  $@ others
        rm -rf $2/$1
        echo "wget $ADDR/$1"
        wget $ADDR/$1 -P $2
    }
    
    ????????????
    aw_upgrade_process.sh --force ??--post?????????????????????????????? 0???????  1??????? 
    upgrade_start_vendor(){
        # $1 mode: upgrade_pre,boot-recovery,upgrade_post
        #return   0 -> start upgrade;  1 -> no upgrade
        #reutrn value only work in nornal mode
        #nornal mode: $NORMAL_MODE
        echo upgrade_start_vendor $1
        return 0
    }
    
    ????????????
    upgrade_finish_vendor(){
        #set version
        write_misc -v henrisk_test_v1 -s ok
        reboot -f
    }

    ??????????check_network_vendor -> download_image_vendor -> download_image_vendor ... -> upgrade_start_vendor -> upgrade_finish_vendor